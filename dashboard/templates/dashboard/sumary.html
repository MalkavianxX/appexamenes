{% extends 'dashboard/dashboard.html' %}{% load static %}


{% block title %}
<title>Ad-mision| Dashboard - Pagina principal</title>

{% endblock %}

{% block descripcion %}
<meta name="description"
    content="Bienvenido a Ad-mision, tu portal personalizado para la preparación universitaria. Descubre tu progreso, estadísticas clave y más en nuestro completo panel de control. ¡Tu camino a la universidad comienza aquí!">
<meta name="author" content="Ad-mision s Team dev">
<style>


</style>
{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
<div class="content-page mybg">
    <div class="content">

        <!-- Start Content-->
        <div class="container-fluid " >
            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Ad-min</a></li>
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Dashboard</a></li>
                                <li class="breadcrumb-item active">Inicio</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Resumen</h4>
                    </div>
                </div>
            </div>
            <!-- end page title -->


            <div class="row">
                <div class="col-sm-6 col-xl-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0 me-3">
                                    <div class="avatar-sm">
                                        <span class="avatar-title bg-primary-lighten text-primary rounded">
                                            <i class="mdi mdi-file-document-edit font-24"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="mt-0 mb-1">Examenes hechos</h5>
                                    <p class="mb-0">{{miperfil.total_test}}</p>
                                </div>
                                <div class="dropdown float-end">
                                    <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="mdi mdi-dots-vertical"></i>
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-xl-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0 me-3">
                                    <div class="avatar-sm">
                                        <span class="avatar-title bg-success-lighten text-success rounded">
                                            <i class="mdi mdi-account-group font-24"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="mt-0 mb-1">Examenes aprobados</h5>
                                    <p class="mb-0">{{miperfil.test_aproval}}</p>
                                </div>
                                <div class="dropdown float-end">
                                    <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="mdi mdi-dots-vertical"></i>
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-xl-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0 me-3">
                                    <div class="avatar-sm">
                                        <span class="avatar-title bg-info-lighten text-info rounded">
                                            <i class="mdi mdi-account-star font-24"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="mt-0 mb-1">Promedio general</h5>
                                    <p class="mb-0">{{miperfil.average}}</p>
                                </div>
                                <div class="dropdown float-end">
                                    <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="mdi mdi-dots-vertical"></i>
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-xl-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0 me-3">
                                    <div class="avatar-sm">
                                        <span class="avatar-title bg-warning-lighten text-warning rounded">
                                            <i class="mdi mdi-folder-plus font-24"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="flex-grow-1">
                                    <h5 class="mt-0 mb-1">Temas vistos</h5>
                                    <p class="mb-0">{{miperfil.categorias_diferentes}}</p>
                                </div>
                                <div class="dropdown float-end">
                                    <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="mdi mdi-dots-vertical"></i>
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row d-lg-none d-md-none d-flex mb-3 ">
                <div class="col-12">
                    <div class="d-grid gap-2 ">
                        <button class="btn btn-soft-success animate__animated animate__bounce animate__repeat-3"
                            type="button">Iniciar examen</button>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="header-title">Estado de evaluacion</h4>
                            <div class="dropdown">
                                <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <!-- item-->
                                    <a href="{% url 'view_test_complete' %}" class="dropdown-item">Ver todos</a>
                                    <!-- item-->

                                </div>
                            </div>
                        </div>
                        <div class="d-none">
                            <input type="text" id="chart-aprobados" value="{{miperfil.test_aproval}}">
                            <input type="text" id="chart-tiempo-acabado" value="{{miperfil.test_incomplete}}">
                            <input type="text" id="chart-reprobados" value="{{miperfil.test_failures}}">
                        </div>

                        <div class="card-body pt-0">
                            <div class="mt-3 mb-4 chartjs-chart" style="height: 204px;">
                                <canvas id="project-status-chart" data-colors="#0acf97,#727cf5,#fa5c7c"></canvas>
                            </div>

                            <div class="row text-center mt-2 py-2">
                                <div class="col-sm-4 col-4">
                                    <div class="my-2 my-sm-0">
                                        <i class="mdi mdi-trending-up text-success mt-3 h3"></i>
                                        <h3 class="fw-normal">
                                            <span>{{miperfil.porcentaje_aprobados}}%</span>
                                        </h3>
                                        <p class="text-muted mb-0">Aprobados</p>
                                    </div>

                                </div>
                                <div class="col-sm-4 col-4">
                                    <div class="my-2 my-sm-0">
                                        <i class="mdi mdi-trending-down text-primary mt-3 h3"></i>
                                        <h3 class="fw-normal">
                                            <span>{{miperfil.porcentaje_tiempo_acabado}}%</span>
                                        </h3>
                                        <p class="text-muted mb-0"> Agotado</p>
                                    </div>

                                </div>
                                <div class="col-sm-4 col-4">
                                    <div class="my-2 my-sm-0">
                                        <i class="mdi mdi-trending-down text-danger mt-3 h3"></i>
                                        <h3 class="fw-normal">
                                            <span>{{miperfil.porcentaje_reprobados}}%</span>
                                        </h3>
                                        <p class="text-muted mb-0"> Reprobados</p>
                                    </div>
                                </div>
                            </div>
                            <!-- end row-->

                        </div> <!-- end card body-->
                    </div> <!-- end card -->
                </div><!-- end col-->

                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h4 class="header-title">Historial</h4>
                            <div class="dropdown">
                                <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <!-- item-->
                                    <a href="{% url 'view_test_complete' %}" class="dropdown-item">Ver todos</a>

                                </div>
                            </div>
                        </div>
                        <div class="card-header bg-primary border-top border-bottom border-light py-1 text-center">
                            <p class="m-0 text-light"><b>{{miperfil.total_test}}</b> examenes completados</p>
                        </div>
                        <div class="card-body pt-2">
                            <div class="table-responsive">
                                <table class="table table-centered table-nowrap table-hover mb-0">
                                    <tbody>
                                        {% for examen in misexamenes %}
                                        <tr>
                                            <td>
                                                <h5 class="font-14 my-1"><a
                                                        href="{% url 'view_result_examen' examen.id %}"
                                                        class="text-body">{{examen.test.title}}</a></h5>
                                                <span class="text-muted font-13">{{examen.fecha_anotada}}</span>
                                            </td>
                                            {% if examen.estado == "Aprobado" %}
                                            <td><span class="badge badge-success-lighten">Aprobado</span></td>
                                            {% elif examen.estado == "Incompleto" %}
                                            <td><span class="badge badge-secondary-lighten">Incompleto</span></td>
                                            {% else %}
                                            <td><span class="badge badge-danger-lighten">Reprobado</span></td>
                                            {% endif %}



                                            <td>
                                                <span class="text-muted font-13">Materia</span>
                                                <h5 class="font-14 mt-1 fw-normal">{{examen.test.category.name}}</h5>
                                            </td>
                                            <td>
                                                <span class="text-muted font-13">Calificación</span>
                                                <h5 class="font-14 mt-1 fw-normal">{{examen.score}}</h5>
                                            </td>


                                        </tr>
                                        {% endfor %}


                                    </tbody>
                                </table>
                            </div> <!-- end table-responsive-->

                        </div> <!-- end card body-->
                    </div> <!-- end card -->
                </div><!-- end col-->
            </div>
            <!-- end row-->


            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header text-center">
                            <h4 class="header-title">Seguimos construyendo nuevas funciones</h4>
                            <h6>Para brindarte el mejor servicio.</h6>
                        </div>


                    </div> <!-- end card -->
                </div><!-- end col-->
            </div>
            <!-- end row-->




        </div> <!-- container -->

    </div> <!-- content -->

    <!-- Footer Start -->
    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <script>document.write(new Date().getFullYear())</script> © Ad-mision
                </div>
                <div class="col-md-6">
                    <div class="text-md-end footer-links d-none d-md-block">
                        <a href="javascript: void(0);">Acerca de </a>
                        <a href="javascript: void(0);">Soporte</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->

</div>
<!-- Vendor js -->
<script src="{% static 'login/assets/js/vendor.min.js' %}"></script>
<!-- App js -->
<script src="{% static 'login/assets/js/app.min.js' %}"></script>
{% endblock %}